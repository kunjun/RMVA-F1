<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>数值计算</title>
<link href="../style.css" type="text/css" rel="stylesheet">
</head>
<body>
<h1>数值计算</h1>
<ul>
<li><a href="#console">显示主控制台</a></li>
<li><a href="#number">数值</a></li>
<li><a href="#display">显示</a></li>
<li><a href="#calculate">计算方法</a></li></ul>
<p>这是关于 Ruby 中数字和计算的基础知识。作为例子将使用计算器那样简单的计算来解说。</p>
<h2><a name="console">显示主控制台</a></h2>
<img src="img/console.png" alt="显示数值" class="float_r">
<p>一开始，请先在VA的[游戏]菜单中选择[显示主控制台]。启用了这个选项之后，在游戏测试时控制台界面会与游戏窗口同时打开。</p>
<p>控制台窗口是显示文字信息专用的窗口，主要功能是在调试时通过显示适当的文字来检查运行情况。在实际完成的游戏并不会显示出来。</p>
<h2><a name="number">数值</a></h2>
<p>Ruby 中能使用的数值，包括<strong>整数</strong>和<strong>浮点数</strong>两种。</p>
<pre>
3           # 整数
52          # 整数
-99         # 整数
1.5         # 浮点数
3.0         # 浮点数
</pre>
<p>所谓浮点数，就是使用小数点以下计算的数。数值相同的话写作 3 是整数，而写作 3.0
即是浮点数。整数计算速度快，如果不需要小数点以下的话尽量使用整数。</p>
<p>请注意，要表示 15 时，不要在前方加 0 变成 015。如果加上的话，该数字会被解释成八进制数，意思就变了。这里不再赘述八进制数，只是请记住写数字时不要在前面加上 0。</p>
<h2><a name="display">显示</a></h2>
<img src="img/image3.png" alt="显示数值" class="float_r">
<p>即在控制台上显示数值。想显示某些数值时，使用 <strong>p</strong> 命令。</p>
<p>小写字母
p，半角字符，再把想要显示的数值按顺序输入后换行。今后会出现各种各样的命令和符号，除注释外其它一律使用半角输入。不小心输入全角字符的话，要注意发现错误。</p>
<pre>p 3</pre>
<p>这个 p 命令可以在排除程序故障时使用，学习显示数值将会是十分有用的。</p>
<p>运行正常的话，你会看到控制台上显示了 3。p 命令在调试时常常使用，在学习时用来显示数值也很方便。</p>
<p>此外，p 函数在 RGSS2 之前一直是弹出消息框的方法，这一点在 RGSS3 有所更改。希望像以前一样显示消息框的话，请使用 msgbox 函数。</p>
<h2><a name="calculate">计算方法</a></h2>
<p>在 Ruby 上进行计算吧。</p>
<pre>p 1 + 1             # 加法
p 10 - 3            # 减法
p 7 * 5             # 乘法
p 24 / 4            # 除法
</pre>
<p>这样，写上普通算式就会输出计算的结果。+ 和 - 等符号称为<strong>运算符</strong>。</p>
<p>另外还有乘法的 * 和除法的 /。不熟悉的人，一定要记住这些重点。</p>
<h3>优先级</h3>
<p>和普通的算式一样，* 和 / 计算要优先于 + 和 - 计算。想改变这个顺序就要使用括号 ( )，括号中的算式将会优先计算。</p>
<pre>p 2 * 2 + 3 * 4     # =&gt; 16
p 2 * (2 + 3) * 4   # =&gt; 40
p 2 * (2 + 3 * 4)   # =&gt; 28
</pre>
<p>按优先级，示例第一行其实是 4+12，第二行是 2*5*4，第三行是 2*14，所以会是不同的计算结果。</p>
<p>括号还可以多层重叠起来（即使是二层三层的情况也是使用同一个符号）。</p>
<p>还有，示例程序的注释中使用 =&gt; 符号，主要是表示这行的输出结果。这是为了方便直观的理解而做的说明。</p>
<h3>小数点以下的计算</h3>
<p>整数除整数的情况下，会省略余数，答案将还是整数。想得到小数点以下的答案，就要使用到浮点数。除数或被除数至少要有一个是浮点数（明确标明了小数点以下），计算的答案就会是浮点数。</p>
<pre>p 15 / 4            # =&gt; 3
p 15.0 / 4          # =&gt; 3.75
p 15 / 4.0          # =&gt; 3.75
</pre>
<h3>余数的计算（取模运算）</h3>
<p>取模运算（求除法的余数），是使用 % 符号。</p>
<pre>p 14 % 4            # =&gt; 2
p 13 % 4            # =&gt; 1
p 12 % 4            # =&gt; 0
</pre>
<p>运行示例第一行的算式，是求 14 除以 4 的余数，就会输出计算结果 2。</p>
<h3>乘方的计算</h3>
<p>没必要强迫记住，乘方（同一个数指定次数的相乘）是使用 ** 符号。</p>
<pre>p 2 ** 4            # =&gt; 16
</pre>
<p>这个示例求 2 的 4 次方，也就是计算 2*2*2*2。</p>
<h6></h6>
</body>
</html>
